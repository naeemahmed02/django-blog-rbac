{% extends 'main.html' %}

{% block title %}
  Registration
{% endblock %}

{% block content %}
<section class="d-flex align-items-center justify-content-center min-vh-100 mt-5 mb-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-10 col-md-8 col-lg-6">

        <!-- Logo -->
        <div class="text-center mb-4">
  <!-- Brand / Logo -->
  <a class="d-flex align-items-center justify-content-center text-decoration-none" href="/">
    <!-- SVG Logo -->
    <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 24 24">
      <rect x="2" y="2" width="20" height="20" rx="10" ry="10" fill="#2F855A"/>
      <text x="50%" y="54%" font-size="11" text-anchor="middle" dy=".3em" fill="#FFFFFF" font-family="Arial" font-weight="bold">DB</text>
    </svg>
    <span class="ms-2" style="font-size: 22px; font-weight: bold; color: #2F855A;">DjangoBytes</span>
  </a>
</div>


        <!-- Card -->
        <div class="card shadow border-0">
          <div class="card-body p-4 p-md-5">
            <h1 class="h4 fw-bold text-center mb-4">Create your account</h1>

            <!-- Messages -->
            {% if messages %}
              {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {% endfor %}
            {% endif %}

            <!-- Non-field errors (like password mismatch) -->
            {% if form.non_field_errors %}
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {% for error in form.non_field_errors %}
                  {{ error }}
                {% endfor %}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endif %}

            <!-- Registration Form -->
            <form method="POST">
              {% csrf_token %}

              <!-- First Name -->
              <div class="mb-3">
                <label class="form-label">First Name</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                  <div class="text-danger mt-1">
                    {% for error in form.first_name.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Last Name -->
              <div class="mb-3">
                <label class="form-label">Last Name</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                  <div class="text-danger mt-1">
                    {% for error in form.last_name.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Email -->
              <div class="mb-3">
                <label class="form-label">Email</label>
                {{ form.email }}
                {% if form.email.errors %}
                  <div class="text-danger mt-1">
                    {% for error in form.email.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Password -->
              <div class="mb-3">
                <label class="form-label">Password</label>
                {{ form.password }}
                {% if form.password.errors %}
                  <div class="text-danger mt-1">
                    {% for error in form.password.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Confirm Password -->
              <div class="mb-3">
                <label class="form-label">Confirm password</label>
                {{ form.confirm_password }}
                {% if form.confirm_password.errors %}
                  <div class="text-danger mt-1">
                    {% for error in form.confirm_password.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>


              <!-- Submit Button -->
              <button type="submit" class="btn btn-success w-100 mb-3">Sign up</button>

              <!-- Login Link -->
              <p class="text-center mb-0 small text-muted">
                Already have an account?
                <a href="{% url 'user_login' %}" class="text-success text-decoration-none fw-medium">Sign in</a>
              </p>
            </form>

          </div>
        </div>
        <!-- End Card -->

      </div>
    </div>
  </div>
</section>
{% endblock %}
